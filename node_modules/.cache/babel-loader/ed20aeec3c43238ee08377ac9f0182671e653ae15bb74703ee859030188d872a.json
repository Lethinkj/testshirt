{"ast":null,"code":"var _jsxFileName = \"D:\\\\tshirt2\\\\src\\\\components\\\\Navbar.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const {\n    user,\n    role\n  } = useContext(AuthContext);\n  const [cartCount, setCartCount] = useState(0);\n  useEffect(() => {\n    if (user) {\n      const fetchCartCount = async () => {\n        const {\n          data\n        } = await supabase.from('cart_items').select('id').eq('user_id', user.id);\n        setCartCount(data.length);\n      };\n      fetchCartCount();\n      const channel = supabase.channel('cart-changes').on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'cart_items',\n        filter: `user_id=eq.${user.id}`\n      }, fetchCartCount).subscribe();\n      return () => supabase.removeChannel(channel);\n    }\n  }, [user]);\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"bg-black text-white py-4 px-6 flex justify-between items-center sticky top-0 z-50\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"text-2xl font-bold font-poppins\",\n      children: \"7F Tshirt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"hover:text-red-500\",\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/polo\",\n        className: \"hover:text-red-500\",\n        children: \"Polo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/crewneck\",\n        className: \"hover:text-red-500\",\n        children: \"Crewneck\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/oversized\",\n        className: \"hover:text-red-500\",\n        children: \"Oversized\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/about\",\n        className: \"hover:text-red-500\",\n        children: \"About\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/contact\",\n        className: \"hover:text-red-500\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/blog\",\n        className: \"hover:text-red-500\",\n        children: \"Blog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cart\",\n        className: \"hover:text-red-500\",\n        children: [\"Cart (\", cartCount, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 18\n      }, this), role === 'admin' && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin\",\n        className: \"hover:text-red-500\",\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 30\n      }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"hover:text-red-500\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/auth\",\n        className: \"hover:text-red-500\",\n        children: \"Login/Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"rzToaJBa8weyPGURPr/Hm126ZQ0=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["useContext","useEffect","useState","Link","supabase","AuthContext","jsxDEV","_jsxDEV","Navbar","_s","user","role","cartCount","setCartCount","fetchCartCount","data","from","select","eq","id","length","channel","on","event","schema","table","filter","subscribe","removeChannel","handleLogout","auth","signOut","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["D:/tshirt2/src/components/Navbar.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Navbar = () => {\n  const { user, role } = useContext(AuthContext);\n  const [cartCount, setCartCount] = useState(0);\n\n  useEffect(() => {\n    if (user) {\n      const fetchCartCount = async () => {\n        const { data } = await supabase.from('cart_items').select('id').eq('user_id', user.id);\n        setCartCount(data.length);\n      };\n      fetchCartCount();\n      const channel = supabase.channel('cart-changes')\n        .on('postgres_changes', { event: '*', schema: 'public', table: 'cart_items', filter: `user_id=eq.${user.id}` }, fetchCartCount)\n        .subscribe();\n      return () => supabase.removeChannel(channel);\n    }\n  }, [user]);\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n  };\n\n  return (\n    <nav className=\"bg-black text-white py-4 px-6 flex justify-between items-center sticky top-0 z-50\">\n      <Link to=\"/\" className=\"text-2xl font-bold font-poppins\">7F Tshirt</Link>\n      <div className=\"flex space-x-4\">\n        <Link to=\"/\" className=\"hover:text-red-500\">Home</Link>\n        <Link to=\"/polo\" className=\"hover:text-red-500\">Polo</Link>\n        <Link to=\"/crewneck\" className=\"hover:text-red-500\">Crewneck</Link>\n        <Link to=\"/oversized\" className=\"hover:text-red-500\">Oversized</Link>\n        <Link to=\"/about\" className=\"hover:text-red-500\">About</Link>\n        <Link to=\"/contact\" className=\"hover:text-red-500\">Contact</Link>\n        <Link to=\"/blog\" className=\"hover:text-red-500\">Blog</Link>\n        {user && <Link to=\"/cart\" className=\"hover:text-red-500\">Cart ({cartCount})</Link>}\n        {role === 'admin' && <Link to=\"/admin\" className=\"hover:text-red-500\">Admin</Link>}\n        {user ? (\n          <button onClick={handleLogout} className=\"hover:text-red-500\">Logout</button>\n        ) : (\n          <Link to=\"/auth\" className=\"hover:text-red-500\">Login/Signup</Link>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}